<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Raport Analizy Przeżycia</title>
</head>
<body>
    <!-- NAGŁÓWEK -->
    <div class="header">
        <h1>Raport Analizy Przeżycia</h1>
        <p class="date">Raport 1 Data wygenerowania: {{DATA}}</p>
        <p class="subtitle">Michał Frąckowiak 275951</p>
    </div>

    <!-- SEKCJA 1: WPROWADZENIE -->
    <div class="section">
        <h2>1. Rozkład Weibulla z trzema parametrami EW(α, β, γ)</h2>

        <p>Rozważmy zmienną losową <strong>X ∼ EW(α, β, γ)</strong>, gdzie:</p>
        <ul>
            <li><strong>α &gt; 0</strong> – parametr kształtu,</li>
            <li><strong>β &gt; 0</strong> – parametr skali,</li>
            <li><strong>γ ∈ (0, 1)</strong> – zewnętrzny parametr kształtu</li>
        </ul>

        <div class="chart-container">
            <h3>Funkcja gęstości:</h3>
            <img src="{{WZOR_PDF}}" alt="PDF">
        </div>
        <div class="code-block">
            <pre><code>
    def dEW(x, alpha, beta, gamma):
        qweibull_cdf = 1 - np.exp(-(x / beta)**alpha)
        weibull_pdf = (alpha / beta) * (x / beta)**(alpha - 1) * np.exp(-(x / beta)**alpha)
        return gamma * weibull_pdf * weibull_cdf**(gamma - 1)
                </code></pre>
        </div>
        <div class="chart-container">
            <h3>Dystrybuanta:</h3>
            <img src="{{WZOR_CDF}}" alt="CDF">
        </div>
        <div class="code-block">
            <pre><code>
    def pEW(x, alpha, beta, gamma):
        return (1 - np.exp(-(x / beta)**alpha))**gamma
            </code></pre>
        </div>
        <div class="chart-container">
            <h3>Funkcja kwantylowa:</h3>
            <img src="{{WZOR_KWANTYL}}" alt="Kwantylowa">
        </div>
        <div class="code-block">
            <pre><code>
    def qEW(p, alpha, beta, gamma):
        return beta * (-np.log(1 - p**(1/gamma)))**(1/alpha)
            </code></pre>
        </div>

        <div class="chart-container">
            <h3>Funkcja hazardu:</h3>
            <img src="{{WZOR_HAZARD}}" alt="Hazard">
        </div>
        <div class="code-block">
            <pre><code>
    def hazard_EW(x, alpha, beta, gamma):
        f = dEW(x, alpha, beta, gamma)
        F = pEW(x, alpha, beta, gamma)

        # Unikanie dzielenia przez zero
        survival = 1 - F
        return np.where(survival > 1e-10, f / survival, np.inf)
            </code></pre>
        </div>
    </div>

    <div class="section">
        <h2>2. Wizualizacja funkcji hazardu</h2>
        <div class="chart-container">
            <img src="{{WYKRES1}}" alt="Wykres funkcji hazardu">
        </div>
    </div>




        <!-- SEKCJA 2: KOD ŹRÓDŁOWY -->
        <div class="section">
            <h2>3. Generowanie zmiennych losowych</h2>

            <div class="code-block">
                <div class="code-header">Program do generowania zmiennych</div>
                <pre><code>
    import numpy as np
    import random

    def pEW(x, alpha, beta, gamma):
        return (1 - np.exp(-(x / beta)**alpha))**gamma

    def rEW(size, alpha, beta, gamma):
        samples = np.random.uniform(0, 1, size=100)
        return pEW(samples, alpha, beta, gamma)
                </code></pre>
            </div>
        </div>

        <!-- SEKCJA 3: WIZUALIZACJE -->
        <div class="section">
            <h2>4. Wizualizacje danych</h2>

            <h3>Wykresy próbkowe</h3>
            <p>
                Porównanie teoretycznych wartości rozkładu z próbą losową
            </p>
            <div class="chart-container">
                <img src="{{WYKRES2}}" alt="Wykres sprzedaży miesięcznej">
            </div>

        <!-- SEKCJA 4: WYNIKI -->
            <div class="section">
                <h2>5. Wyniki analizy statystycznej</h2>
                <p>
                    Tabela prezentuje podstawowe statystyki opisowe dla czterech prób oraz odpowiadające im wartości teoretyczne oparte na rozkładach Weibulla (EW) z parametrami α, β i γ.
                </p>

                <table>
                    <thead>
                        <tr>
                            <th>Statystyka</th>
                            <th>Wartość teoretyczna</th>
                            <th>Próba 1<br>(n=50, α=2, β=4, γ=3)</th>
                            <th>Próba 2<br>(n=100, α=2, β=4, γ=3)</th>
                            <th>Próba 3<br>(n=50, α=2, β=2, γ=1)</th>
                            <th>Próba 4<br>(n=100, α=2, β=2, γ=1)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Średnia</td>
                            <td>—</td>
                            <td>{{MEAN1}}</td>
                            <td>{{MEAN2}}</td>
                            <td>{{MEAN3}}</td>
                            <td>{{MEAN4}}</td>
                        </tr>
                        <tr>
                            <td>Mediana</td>
                            <td>{{MEDIAN_THEO_243}} / {{MEDIAN_THEO_221}}</td>
                            <td>{{MEDIAN1}}</td>
                            <td>{{MEDIAN2}}</td>
                            <td>{{MEDIAN3}}</td>
                            <td>{{MEDIAN4}}</td>
                        </tr>
                        <tr>
                            <td>Odchylenie standardowe</td>
                            <td>—</td>
                            <td>{{STD1}}</td>
                            <td>{{STD2}}</td>
                            <td>{{STD3}}</td>
                            <td>{{STD4}}</td>
                        </tr>
                        <tr>
                            <td>Kwartyl dolny (Q1)</td>
                            <td>{{Q1_THEO_243}} / {{Q1_THEO_221}}</td>
                            <td>{{Q1_1}}</td>
                            <td>{{Q1_2}}</td>
                            <td>{{Q1_3}}</td>
                            <td>{{Q1_4}}</td>
                        </tr>
                        <tr>
                            <td>Kwartyl górny (Q3)</td>
                            <td>{{Q3_THEO_243}} / {{Q3_THEO_221}}</td>
                            <td>{{Q3_1}}</td>
                            <td>{{Q3_2}}</td>
                            <td>{{Q3_3}}</td>
                            <td>{{Q3_4}}</td>
                        </tr>
                        <tr>
                            <td>Rozstęp międzykwartylowy (IQR)</td>
                            <td>{{IQR_THEO_243}} / {{IQR_THEO_221}}</td>
                            <td>{{IQR1}}</td>
                            <td>{{IQR2}}</td>
                            <td>{{IQR3}}</td>
                            <td>{{IQR4}}</td>
                        </tr>
                        <tr>
                            <td>Minimum</td>
                            <td>—</td>
                            <td>{{MIN1}}</td>
                            <td>{{MIN2}}</td>
                            <td>{{MIN3}}</td>
                            <td>{{MIN4}}</td>
                        </tr>
                        <tr>
                            <td>Maksimum</td>
                            <td>—</td>
                            <td>{{MAX1}}</td>
                            <td>{{MAX2}}</td>
                            <td>{{MAX3}}</td>
                            <td>{{MAX4}}</td>
                        </tr>
                        <tr>
                            <td>Rozstęp</td>
                            <td>—</td>
                            <td>{{RANGE1}}</td>
                            <td>{{RANGE2}}</td>
                            <td>{{RANGE3}}</td>
                            <td>{{RANGE4}}</td>
                        </tr>
                    </tbody>
                </table>


            </div>

        <!-- SEKCJA 5: PODSUMOWANIE -->
        <div class="section">
            <h2>5. Wnioski i podsumowanie</h2>
            <p>
                Przeprowadzona analiza wykazała następujące kluczowe obserwacje:
            </p>
            <ul>
                <li>Dane wykazują rozkład zbliżony do normalnego z niewielką asymetrią</li>
                <li>Wartości mieszczą się w oczekiwanym zakresie od 52 do 146 jednostek</li>
                <li>Odchylenie standardowe wynoszące 14.92 wskazuje na umiarkowane rozproszenie danych</li>
                <li>Brak wartości odstających lub anomalii w zbiorze danych</li>
            </ul>

            <div class="info-box">
                <strong>⚠ Uwaga:</strong> Niniejszy raport został wygenerowany automatycznie
                i wymaga weryfikacji przez uprawnionego analityka. Wszystkie wartości są przykładowe
                i służą wyłącznie celom demonstracyjnym.
            </div>

            <div class="success-box">
                <strong>✓ Zalecenia:</strong> Zaleca się przeprowadzenie dodatkowej analizy
                dla potwierdzenia wyników oraz rozszerzenie badania o dodatkowe zmienne.
            </div>
        </div>

        <!-- STOPKA -->
        <div class="footer">
            <p>© 2025 | Raport wygenerowany automatycznie | Generator PDF v1.0</p>
            <p>Dokument poufny - do użytku wewnętrznego</p>
        </div>
</body>
</html>